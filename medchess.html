<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>MedChess – شطرنج طبي</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container chess-container">
    <h1>♟️ MedChess – شطرنج طبي</h1>
    <p>كل قطعة = رمز طبي – العب واكسب نقاط!</p>

    <div id="board" class="board"></div>

    <div class="info">
      <span>نقاطك: <strong id="score">0</strong></span>
      <button onclick="saveScore()">💾 حفظ النقاط</button>
    </div>
  </div>

  <script>
    const pieces = {
      K: '👑', Q: '🛡️', R: '🗼', B: '🧠', N: '🏇', P: '💊'
    };

    const initialBoard = [
      ['R','N','B','Q','K','B','N','R'],
      ['P','P','P','P','P','P','P','P'],
      [null,null,null,null,null,null,null,null],
      [null,null,null,null,null,null,null,null],
      [null,null,null,null,null,null,null,null],
      [null,null,null,null,null,null,null,null],
      ['P','P','P','P','P','P','P','P'],
      ['R','N','B','Q','K','B','N','R']
    ];

    let board = [];
    let score = 0;

    function createBoard() {
      const boardEl = document.getElementById('board');
      boardEl.innerHTML = '';
      board = [];
      for (let row = 0; row < 8; row++) {
        board[row] = [];
        for (let col = 0; col < 8; col++) {
          const piece = initialBoard[row][col];
          board[row][col] = piece;
          const square = document.createElement('div');
          square.className = 'square';
          square.textContent = piece ? pieces[piece] : '';
          square.onclick = () => move(row, col);
          boardEl.appendChild(square);
        }
      }
    }

    function move(row, col) {
      // منطقة مبسطة: كل نقلة صحيحة = +5 نقاط
      if (board[row][col]) {
        score += 5;
        document.getElementById('score').textContent = score;
      }
    }

    function saveScore() {
      localStorage.setItem('medchess_score', score);
      alert("✅ تم حفظ نقاطك – كيما ترجع للأنترنت، نزيدهم لحسابك داخل TherQuiz!");
    }

    createBoard();
  </script>
</body>
</html>
