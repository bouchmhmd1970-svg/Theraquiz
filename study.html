<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>MedFocus โ Study with me</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container study-container">
    <h1>๐งโโ๏ธ MedFocus โ Study with me</h1>
    <p>ุงุฎุชุฑ ุฌูุณู ูุงููุฏุฉ โ ุงุจุฏุฃ ุงูุฏุฑุงุณุฉ ูุน ุดุฎุต ุงูุชุฑุงุถู.</p>

    <div class="setup">
      <label>ุงูุฌูุณ:</label>
      <select id="gender">
        <option value="man">๐จ ุฑุฌู</option>
        <option value="woman">๐ฉ ุงูุฑุฃุฉ</option>
      </select>

      <label>ุงููุฏุฉ:</label>
      <select id="duration">
        <option value="25">25 ุฏูููุฉ</option>
        <option value="45">45 ุฏูููุฉ</option>
        <option value="60">60 ุฏูููุฉ</option>
      </select>

      <button onclick="startStudy()">ุงุจุฏุฃ ุงูุฏุฑุงุณุฉ</button>
    </div>

    <div id="session" class="hidden">
      <video id="studyVideo" autoplay muted loop>
        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
        ูุชุตูุญู ูุง ูุฏุนู ุงูููุฏูู.
      </video>
      <div class="timer" id="timer">25:00</div>
      <button onclick="stopStudy()">ุฅููุงู</button>
    </div>
  </div>

  <script>
    let timeLeft;
    let timerInterval;

    function startStudy() {
      const gender = document.getElementById("gender").value;
      const duration = parseInt(document.getElementById("duration").value);
      timeLeft = duration * 60;

      document.querySelector(".setup").classList.add("hidden");
      document.getElementById("session").classList.remove("hidden");

      const video = document.getElementById("studyVideo");
      video.src = gender === "woman" 
        ? "https://www.w3schools.com/html/mov_bbb.mp4" 
        : "https://www.w3schools.com/html/mov_bbb.mp4"; // ุงุณุชุจุฏู ูุงุญููุง ุจููุฏูู ุตุงูุช ุญูููู

      video.play();
      updateTimer();
      timerInterval = setInterval(() => {
        timeLeft--;
        updateTimer();
        if (timeLeft <= 0) {
          stopStudy(true);
        }
      }, 1000);
    }

    function updateTimer() {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      document.getElementById("timer").textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    }

    function stopStudy(completed = false) {
      clearInterval(timerInterval);
      document.getElementById("studyVideo").pause();
      document.getElementById("session").classList.add("hidden");
      document.querySelector(".setup").classList.remove("hidden");

      if (completed) {
        alert("โ ุฃุญุณูุช! ููุฏ ุฃูููุช ุงูุฏุฑุงุณุฉ โ +5 ููุงุท!");
        // ูุฒูุฏ ุงูููุงุท ุฏุงุฎู ุงูููุตุฉ ูุงุญููุง
        localStorage.setItem("studyScore", (parseInt(localStorage.getItem("studyScore")) || 0) + 5);
      }
    }
  </script>
</body>
</html>
